{"id":"beads-apm-integration-1g9","title":"Update Agent Workflow Guide with discovery reference","description":"## Objective\nUpdate Agent_Workflow_Guide.md to reference discovery and use agent labels.\n\n## Requirements\n- Add discovery step to \"Starting a Session\" section (reference Agent_Discovery_Guide)\n- Update \"Assigning Work\" section: read agent: label from bd show output\n- Update Task tool example to use dynamic subagent_type from label\n- Update \"Delegating Sub-tasks\" examples to use appropriate agent types (e.g., explore for research)\n\n## Done When\n- \"Starting a Session\" includes agent discovery step\n- \"Assigning Work\" shows reading agent: label from issue\n- Task tool examples use dynamic subagent_type\n- Delegation examples use agent:explore for research, agent:general-purpose for implementation\n\n## Guidance\nModify these specific sections:\n- \"Starting a Session\" - add discovery after bd stats\n- \"Assigning Work\" - update Task tool example\n- \"Delegating Sub-tasks\" - update research/debug examples with appropriate agents","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T16:49:02.417540449+07:00","updated_at":"2025-12-11T17:01:22.733104917+07:00","closed_at":"2025-12-11T17:01:22.733104917+07:00","labels":["agent:general-purpose","docs"],"dependencies":[{"issue_id":"beads-apm-integration-1g9","depends_on_id":"beads-apm-integration-b41","type":"blocks","created_at":"2025-12-11T16:49:13.062635543+07:00","created_by":"daemon"}],"comments":[{"id":3,"issue_id":"beads-apm-integration-1g9","author":"hbchuc","text":"Updated Agent_Workflow_Guide.md with discovery reference and agent label usage:\n- Added agent discovery step to 'Starting a Session' section (find .claude/agents command)\n- Updated 'Assigning Work' to read agent: label from bd show output and select agent dynamically\n- Modified Task tool example to use dynamic subagent_type from label with clear guidance\n- Enhanced 'Delegating Sub-tasks' with three distinct examples: agent:explore for research, agent:plan for strategic analysis, agent:general-purpose for debug/implementation","created_at":"2025-12-11T10:01:22Z"}]}
{"id":"beads-apm-integration-2m6","title":"Clean up old APM files","description":"Remove old commands and guides that are no longer needed","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:44:50.758456573+07:00","updated_at":"2025-12-11T14:17:13.383191046+07:00","closed_at":"2025-12-11T14:17:13.383191046+07:00","dependencies":[{"issue_id":"beads-apm-integration-2m6","depends_on_id":"beads-apm-integration-jgj","type":"blocks","created_at":"2025-12-11T13:44:57.725687847+07:00","created_by":"daemon"},{"issue_id":"beads-apm-integration-2m6","depends_on_id":"beads-apm-integration-bf4","type":"blocks","created_at":"2025-12-11T13:44:57.74110296+07:00","created_by":"daemon"},{"issue_id":"beads-apm-integration-2m6","depends_on_id":"beads-apm-integration-jnv","type":"blocks","created_at":"2025-12-11T13:44:57.756011298+07:00","created_by":"daemon"},{"issue_id":"beads-apm-integration-2m6","depends_on_id":"beads-apm-integration-34i","type":"blocks","created_at":"2025-12-11T13:44:57.771257068+07:00","created_by":"daemon"},{"issue_id":"beads-apm-integration-2m6","depends_on_id":"beads-apm-integration-vz7","type":"blocks","created_at":"2025-12-11T13:44:57.786265406+07:00","created_by":"daemon"}]}
{"id":"beads-apm-integration-34i","title":"Adjust Project_Breakdown_Guide.md","description":"Change to create Beads issues instead of Implementation_Plan.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:44:50.229424932+07:00","updated_at":"2025-12-11T13:59:10.182877004+07:00","closed_at":"2025-12-11T13:59:10.182877004+07:00"}
{"id":"beads-apm-integration-51x","title":"Create AGENT_GUIDE.md","description":"Document how agents should use bd commands while working","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:27:17.460386736+07:00","updated_at":"2025-12-11T13:33:06.891134107+07:00","closed_at":"2025-12-11T13:33:06.891134107+07:00"}
{"id":"beads-apm-integration-78k","title":"Create BEADS_CONVENTIONS.md","description":"Document issue structure, labels, and description format for APM-style workflows","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:27:17.227358677+07:00","updated_at":"2025-12-11T13:32:30.300801301+07:00","closed_at":"2025-12-11T13:32:30.300801301+07:00"}
{"id":"beads-apm-integration-b2n","title":"Refactor guides to use assignee instead of label for agent assignment","description":"## Objective\nChange agent assignment from label-based to assignee-based across all APM guides.\n\n## Requirements\n- Agent_Discovery_Guide.md: Change label convention to assignee convention\n- Project_Breakdown_Guide.md: Change bd create to use -a instead of -l agent:\n- Task_Assignment_Guide.md: Read assignee instead of agent: label\n- Agent_Workflow_Guide.md: Update all examples to use assignee\n\n## Done When\n- All guides use --assignee/-a for agent assignment\n- No more agent: label references\n- Labels reserved for domain/category only","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T17:23:19.984088668+07:00","updated_at":"2025-12-11T17:25:58.608251386+07:00","closed_at":"2025-12-11T17:25:58.608251386+07:00","labels":["docs"],"comments":[{"id":6,"issue_id":"beads-apm-integration-b2n","author":"hbchuc","text":"Updated all 4 guides to use assignee instead of label for agent assignment:\n- Agent_Discovery_Guide: Changed Label Convention to Assignee Convention, updated all references\n- Project_Breakdown_Guide: Changed bd create to use -a instead of -l agent:\n- Task_Assignment_Guide: Changed to read assignee field instead of agent: label\n- Agent_Workflow_Guide: Updated to check assignee field","created_at":"2025-12-11T10:25:58Z"}]}
{"id":"beads-apm-integration-b41","title":"Create Agent Discovery Guide","description":"## Objective\nCreate new shared Agent_Discovery_Guide.md for discovering available Claude Code agents.\n\n## Requirements\n- Discovery mechanism with explicit commands:\n  - Built-ins: general-purpose, explore, plan (always available)\n  - Custom agents: `find .claude/agents -name \"*.md\" -type f`\n  - Parse YAML frontmatter (name, description, tools, model fields)\n- Built-in agent descriptions:\n  - general-purpose: Full capabilities, complex multi-step tasks (Sonnet)\n  - explore: Fast read-only codebase search (Haiku)\n  - plan: Read-only planning/research (Sonnet)\n- Guidance on when to use which agent type (task characteristics → agent matching)\n- Label convention: agent:\u003cname\u003e prefix (e.g., agent:explore, agent:general-purpose)\n- Document dual-use: Setup Agent uses for labeling, Manager Agent uses for validation\n\n## Done When\n- Agent_Discovery_Guide.md exists at .apm/guides/Agent_Discovery_Guide.md\n- Contains discovery mechanism with explicit commands\n- Contains built-in descriptions with capabilities and model info\n- Contains usage guidance and label convention\n- Documents that both Setup and Manager reference this guide\n\n## Guidance\nThis is the foundation that Project_Breakdown_Guide and Agent_Workflow_Guide will reference.\nKeep concise but include explicit discovery commands so Implementation Agent knows exactly how to scan for custom agents.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T16:48:18.834283457+07:00","updated_at":"2025-12-11T16:59:16.237006273+07:00","closed_at":"2025-12-11T16:59:16.237006273+07:00","labels":["agent:general-purpose","docs"],"comments":[{"id":1,"issue_id":"beads-apm-integration-b41","author":"hbchuc","text":"Created Agent_Discovery_Guide.md at .apm/guides/ with discovery mechanism, built-in agent descriptions, usage guidance, label convention, and dual-use documentation","created_at":"2025-12-11T09:59:15Z"}]}
{"id":"beads-apm-integration-bf4","title":"Create /apm-start command","description":"Start command: Manager queries Beads, spawns agents via Task tool","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:44:49.678845916+07:00","updated_at":"2025-12-11T14:06:57.526620238+07:00","closed_at":"2025-12-11T14:06:57.526620238+07:00","dependencies":[{"issue_id":"beads-apm-integration-bf4","depends_on_id":"beads-apm-integration-jgj","type":"blocks","created_at":"2025-12-11T13:44:57.709684105+07:00","created_by":"daemon"}]}
{"id":"beads-apm-integration-edo","title":"Create README.md for the project","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T14:51:15.803502797+07:00","updated_at":"2025-12-11T14:55:45.246010859+07:00","closed_at":"2025-12-11T14:55:45.246010859+07:00"}
{"id":"beads-apm-integration-fn2","title":"Test agent discovery workflow","description":"## Objective\nValidate the updated guides work correctly end-to-end.\n\n## Requirements\n- Verify discovery mechanism works:\n  - Built-ins (general-purpose, explore, plan) are documented\n  - Custom agent scan command works: find .claude/agents -name \"*.md\"\n  - YAML frontmatter parsing is explained\n- Verify label-based agent selection:\n  - Project_Breakdown_Guide creates issues with agent: labels\n  - Task_Assignment_Guide reads labels and selects subagent_type\n  - Agent_Workflow_Guide includes discovery at session start\n- Verify fallback behavior:\n  - Missing agent triggers warning + user selection\n  - Defaults to general-purpose when appropriate\n\n## Done When\n- All four guides are consistent and cross-reference correctly\n- Mock walkthrough: Setup creates labeled issue → Manager discovers agents → Manager spawns correct agent\n- No gaps in workflow documentation\n\n## Guidance\nWalk through complete flow:\n1. Setup runs discovery (Agent_Discovery_Guide)\n2. Setup creates issue with agent:explore label (Project_Breakdown_Guide)\n3. Manager starts session, runs discovery (Agent_Workflow_Guide)\n4. Manager reads label, validates agent, spawns (Task_Assignment_Guide)\nVerify all references and examples are consistent.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T16:49:05.415040711+07:00","updated_at":"2025-12-11T17:04:11.94643711+07:00","closed_at":"2025-12-11T17:04:11.94643711+07:00","labels":["agent:general-purpose","docs"],"dependencies":[{"issue_id":"beads-apm-integration-fn2","depends_on_id":"beads-apm-integration-l53","type":"blocks","created_at":"2025-12-11T16:49:13.078933189+07:00","created_by":"daemon"},{"issue_id":"beads-apm-integration-fn2","depends_on_id":"beads-apm-integration-zjg","type":"blocks","created_at":"2025-12-11T16:49:13.09839023+07:00","created_by":"daemon"},{"issue_id":"beads-apm-integration-fn2","depends_on_id":"beads-apm-integration-1g9","type":"blocks","created_at":"2025-12-11T16:49:13.116981206+07:00","created_by":"daemon"}],"comments":[{"id":5,"issue_id":"beads-apm-integration-fn2","author":"hbchuc","text":"Validation complete. Verified:\n1. Discovery mechanism: Built-ins documented, custom agent scan command works, YAML frontmatter parsing explained\n2. Label-based selection: Project_Breakdown_Guide creates agent: labels, Task_Assignment_Guide reads and validates labels, Agent_Workflow_Guide includes discovery at session start\n3. Fallback behavior: Missing agent triggers warning with user selection prompt, defaults to general-purpose when appropriate\n4. Cross-references: All 5+ references between guides verified and made more specific\n5. Mock walkthrough: Traced complete flow from setup discovery → issue creation with agent:explore → manager discovery → manager validation → spawn with correct subagent_type\n\nFixes applied:\n- Agent_Workflow_Guide.md: Added agent discovery step for Implementation Agent delegation (lines 127-130)\n- Agent_Discovery_Guide.md: Made Manager Agent Use reference more specific with section numbers (line 150)\n\nNo gaps found. All guides are consistent and complete.","created_at":"2025-12-11T10:04:11Z"}]}
{"id":"beads-apm-integration-iob","title":"Clean up BEADS_APM_INTEGRATION.md - remove outdated sections","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T14:54:01.528646073+07:00","updated_at":"2025-12-11T14:55:01.475345206+07:00","closed_at":"2025-12-11T14:55:01.475345206+07:00"}
{"id":"beads-apm-integration-jgj","title":"Create /apm-setup command","description":"Setup command: Context Synthesis + create Beads issues","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:44:49.433561012+07:00","updated_at":"2025-12-11T14:06:04.029203415+07:00","closed_at":"2025-12-11T14:06:04.029203415+07:00"}
{"id":"beads-apm-integration-jnv","title":"Adjust Context_Synthesis_Guide.md","description":"Keep mostly same, remove references to Implementation_Plan.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:44:49.933459669+07:00","updated_at":"2025-12-11T13:52:14.23743769+07:00","closed_at":"2025-12-11T13:52:14.23743769+07:00"}
{"id":"beads-apm-integration-l53","title":"Update Project Breakdown Guide with agent discovery","description":"## Objective\nUpdate Project_Breakdown_Guide.md to include agent discovery and labeling.\n\n## Requirements\n- Add reference to Agent_Discovery_Guide in §3.3 (after Beads initialization, before phase cycles)\n- Update §4.4 issue creation template to include agent: label in bd create command\n- Add guidance for Setup Agent to select appropriate agent based on task characteristics:\n  - Research/exploration tasks → agent:explore\n  - Implementation tasks → agent:general-purpose\n  - Planning tasks → agent:plan\n  - Custom agents → agent:\u003ccustom-name\u003e if available\n\n## Done When\n- §3.3 includes: \"Run agent discovery following Agent_Discovery_Guide before proceeding\"\n- §4.4 bd create template includes: -l agent:\u003cselected-agent\u003e\n- Clear guidance on matching task characteristics to agent types\n- Label format explicitly documented as agent:\u003cname\u003e\n\n## Guidance\nModify these specific sections:\n- §3.3 Beads Project Initialization - add discovery step after bd stats\n- §4.4 Issue Creation Procedure - add agent: label to bd create example\n- Add new subsection or paragraph explaining agent selection based on task type","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T16:48:53.561409541+07:00","updated_at":"2025-12-11T17:01:19.18855662+07:00","closed_at":"2025-12-11T17:01:19.18855662+07:00","labels":["agent:general-purpose","docs"],"dependencies":[{"issue_id":"beads-apm-integration-l53","depends_on_id":"beads-apm-integration-b41","type":"blocks","created_at":"2025-12-11T16:49:13.027209624+07:00","created_by":"daemon"}],"comments":[{"id":2,"issue_id":"beads-apm-integration-l53","author":"hbchuc","text":"Updated Project_Breakdown_Guide.md with agent discovery integration:\n- Added agent discovery step in §3.3 after Beads initialization, referencing Agent_Discovery_Guide.md\n- Updated §4.4 Issue Creation Procedure to include -l agent:\u003cagent-type\u003e in bd create template\n- Added comprehensive Agent Selection guidance explaining how to match task characteristics to agent types\n- Documented agent label format as agent:\u003cname\u003e with examples for all built-in agents (general-purpose, explore, plan) and custom agents\n- Included decision criteria for selecting appropriate agent based on task requirements (implementation, research/planning, exploration, domain-specific)","created_at":"2025-12-11T10:01:18Z"}]}
{"id":"beads-apm-integration-p0r","title":"Create QUICKSTART.md","description":"Document how to adopt beads-apm in any project","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:27:17.683373591+07:00","updated_at":"2025-12-11T13:33:37.366715503+07:00","closed_at":"2025-12-11T13:33:37.366715503+07:00","dependencies":[{"issue_id":"beads-apm-integration-p0r","depends_on_id":"beads-apm-integration-78k","type":"blocks","created_at":"2025-12-11T13:27:28.262629446+07:00","created_by":"daemon"},{"issue_id":"beads-apm-integration-p0r","depends_on_id":"beads-apm-integration-51x","type":"blocks","created_at":"2025-12-11T13:27:28.27981288+07:00","created_by":"daemon"}]}
{"id":"beads-apm-integration-vz7","title":"Create Agent_Workflow_Guide.md","description":"New guide: How agents use Beads + Task tool. Replaces Memory_Log_Guide, Memory_System_Guide, Task_Assignment_Guide, handover guides","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:44:50.496153917+07:00","updated_at":"2025-12-11T14:00:39.519729633+07:00","closed_at":"2025-12-11T14:00:39.519729633+07:00"}
{"id":"beads-apm-integration-zd9","title":"Update CLAUDE.md to reflect completed state","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T14:51:15.595519389+07:00","updated_at":"2025-12-11T14:52:02.422519544+07:00","closed_at":"2025-12-11T14:52:02.422519544+07:00"}
{"id":"beads-apm-integration-zjg","title":"Update Task Assignment Guide with label-based selection","description":"## Objective\nUpdate Task_Assignment_Guide.md to select agents based on issue labels.\n\n## Requirements\n- Update §1.4 Task tool example to read agent: label from issue\n- Add agent validation step: check if labeled agent exists in discovered agents\n- Add fallback behavior: if agent missing, warn user and ask to select from available agents\n- Update Task tool examples to use dynamic subagent_type from label\n\n## Done When\n- §1.4 shows: subagent_type=\u003cfrom agent: label\u003e\n- Validation logic documented (check against discovered agents)\n- Fallback behavior: warn + ask user if agent not found\n- Examples show label format agent:\u003cname\u003e\n\n## Guidance\nModify these specific sections:\n- §1.4 Adding Context to Task Prompt - change hardcoded \"general-purpose\" to dynamic selection\n- Add new subsection for agent validation and fallback behavior\nReference Agent_Discovery_Guide for list of available agents.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T16:48:58.557445438+07:00","updated_at":"2025-12-11T17:01:35.501386851+07:00","closed_at":"2025-12-11T17:01:35.501386851+07:00","labels":["agent:general-purpose","docs"],"dependencies":[{"issue_id":"beads-apm-integration-zjg","depends_on_id":"beads-apm-integration-b41","type":"blocks","created_at":"2025-12-11T16:49:13.045864161+07:00","created_by":"daemon"}],"comments":[{"id":4,"issue_id":"beads-apm-integration-zjg","author":"hbchuc","text":"Updated Task_Assignment_Guide.md with label-based agent selection:\n- Added new §1.4 'Agent Selection and Validation' with 4-step discovery process\n- Documented validation logic for built-in agents (general-purpose, explore, plan) and custom agents\n- Added fallback behavior: warn user and list available agents if labeled agent not found\n- Renumbered original §1.4 to §1.5 'Adding Context to Task Prompt'\n- Updated Task tool examples to use dynamic subagent_type from agent: labels\n- Added label format examples showing agent:name → subagent_type conversion\n- Referenced Agent_Discovery_Guide.md for complete agent capabilities","created_at":"2025-12-11T10:01:29Z"}]}
